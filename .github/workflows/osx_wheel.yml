name: Build Wheels ON OSX

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Configure
      env:
        PYPI_API_TOKEN: ${{ secrets.PYPI_API_TOKEN }}
      run: |
        echo 'The GitHub Action Secret will be masked:  '
        echo ${{ secrets.PYPI_API_TOKEN }}
        echo 'Testing secret if its masked: '
        printenv
    - name: Build wheels
      run: |
        #PYPI_API_TOKEN: ${{ secrets.PYPI_API_TOKEN }}
        echo ${{ secrets.PYPI_API_TOKEN }}
        echo "PYPI_API_TOKENecho=secrets.PYPI_API_TOKEN" >> $GITHUB_ENV
        ./build_wheels_linux.sh $PYPI_API_TOKEN
